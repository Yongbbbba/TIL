# chapter02 유저 모드와 커널 모드

## CPU Protection Rings

- CPU도 권한 모드라는 것을 가지고 있음
  - 사용자 모드(user mode - application) : 응용 프로그램이 사용
    - OS만 사용할 수 있는 특권 명령을 사용자 모드에서 사용하려고 하면 수행이 제한됨
  - 커널 모드(kernel mode): 특권 명령어 실행과 원하는 작업 수행을 위한 자원 접근을 가능케 하는 모드, OS가 사용

![image-20220130202514188](../../../AppData/Roaming/Typora/typora-user-images/image-20220130202514188.png)

> 커널이란? - OS kernel
>
> 1. (견과류-씨앗의) 알맹이
> 2. (사상, 주제의) 핵심

> shell 이란? 
>
> 1. (달걀견과류 등의 딱딱한) 껍데기
> 2. 고둥 껍데기 모양의 것  



## 시스템콜은 커널 모드로 실행

- 커널 모드에서만 실행 가능한 기능들이 있음
- 커널 모드로 실행하려면, 반드시 시스템 콜을 사용해야함(거쳐야함)
  - 유저 모드에서 실행되던 응용 프로그램이 특정 기능을 수행하기 위해 커널 모드로 넘어가려면 시스템 콜을 사용해야함
- 시스템 콜은 운영체제가 제공



## 사용자 모드와 커널 모드

- CPU Protection Rings를 통해 함부로 응용 프로그램이 전체 컴퓨터 시스템을 해치치 못함
- 주민등록등본은 꼭 동사무소 또는 민원24시(정부 사이트)에서 특별한 신청서를 써야만 발급이 되는 것과 유사한 원리임
  - 동사무소 직원분들은 특별한 권한을 가지고, 주민등록등본 출력 명령을 실행



> 시스템 프로그래머: shell / api / system call을 제작함
>
> 응용 프로그래머: 시스템 프로그래머가 만든 api 등을 이용해 응용 프로그램 제작



![image-20220130210717411](../../../AppData/Roaming/Typora/typora-user-images/image-20220130210717411.png)



![image-20220130210945376](../../../AppData/Roaming/Typora/typora-user-images/image-20220130210945376.png)

