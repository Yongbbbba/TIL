# chapter02 시스템 콜

## 운영체제 구조

### 응용 프로그램, 운영체제, 컴퓨터 하드웨어(시스템 리소스) 간의 관계

#### 도서관으로 비유

- 운영체제는 도서관
- 응용 프로그램을 시민
- 컴퓨터 하드웨어는 책
- 운영체제의 역할
  - 시민은 도서관에 원하는 책(자원)을 요청
  - 도서관은 적절한 책(자원)을 찾아서 시민에게 빌려준다
  - 시민이 빌려간 책의 기한이 다 된다면, 도서관이 해당 책(자원)을 회수



#### 실제

- 운영체제는 응용 프로그램이 요청하는 메모리를 허가하고, 분배한다.
- 운영체제는 응용 프로그램이 요청하는 CPU 사용 시간을 제공한다.
- 운영체제는 응용 프로그램이 요청하는 IO Devices 사용을 허가/제한한다



### 사용자, 응용 프로그램, 운영체제, 컴퓨터 하드웨어 간의 관계

![image-20220130115937335](../../../AppData/Roaming/Typora/typora-user-images/image-20220130115937335.png)



#### 운영체제는 사용자 인터페이스 제공

- 쉘(Shell)
  - 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
  - 쉘은 터미널 환경(CLI)와 GUI 환경 두 종류로 분류

![image-20220130120235469](../../../AppData/Roaming/Typora/typora-user-images/image-20220130120235469.png)

#### 운영체제는 응용 프로그램을 위해서도 인터페이스를 제공

- API(Application Programming Interface)
  - 함수로 제공
  - open()
- 보통은 함수의 종류가 너무 많기 때문에 라이브러리(Library) 형태로 제공

![image-20220130120839802](../../../AppData/Roaming/Typora/typora-user-images/image-20220130120839802.png)



#### 시스템 콜

- 시스템 콜 또는 시스템 호출 인터페이스
- 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공
- API 내부에는 시스템 콜을 호출하는 형태로 만들어지는 경우가 대부분
  - 시스템 콜 사용을 용이하기 위해 언어별로 API 또는 라이브러리를 제공하는 것임



## 운영체제를 만든다면?

1. 운영체제를 개발한다(Kernel)
2. 시스템 콜을 개발
3. (C, JAVA 등) API(library) 개발
4. 3을 가지고 Shell 프로그램 개발
5. 응용 프로그램 개발



## 운영체제와 시스템 콜

- 시스템 콜 정의 예
  - POSIX API(UNIX 계열의 운영체제들은 시스템 콜로 이것을 대부분 사용)
  - 윈도우 API

> API: 각 언어별 운영체제 기능 호출 인터페이스 함수(각 언어별 인터페이스)
>
> 시스템콜: 운영체제 기능을 호출하는 함수

