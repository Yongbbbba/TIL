```mssql
use BaseballData;

select 2021 - birthYear as koreanAge
from players
where deathYear is null and birthYear is not null and (2021 - birthYear) <= 80  -- 여기서는 koreanAge라는 alias를 사용할 수 없음
order by koreanAge asc;


-- 로직상 순서
-- from
-- where
-- select
-- order by
```



```mssql
select 2021 - null -- 어떻게 될까? - 어떤 연산을 하더라도 null로 출력됨
```



```mssql
-- 문자열
-- T-SQL은 +을 활용한 문자열 연산을 지원함(표준에서는 concat을 이용하면 된다)
-- 자주쓰는 것
-- concat, substring, trim

select nameFirst + ' ' + nameLast as fullName
from players
where nameFirst is not null and nameLast is not null;
```



```mssql
-- 팁
-- oracle에서는 테이블 구조를 살펴볼 때 describe를 사용할 수 있었는데 mssql에서는 먹히지 않았다.
-- 테이블 구조를 살펴보는 sp가 저장이 되어있었는데 sp_columns를 사용하면 된다
exec sp_columns my_table;
```



```mssql
-- 한글 문자열 사용시 주의사항
-- select '안녕하세요'; 라는 구문을 사용하면 결과값이 ???와 같이 나온다. 그 이유는 작은 따옴표를 사용하면 문자하나를 1바이트로 인식을 하기 때문에 2바이트로 표현해야하는 한글이 제대로 표현되지 않기 때문이다. select N'안녕하세요'; 와 같은 방식으로 유니코드 형태로 사용해야 올바르게 출력이 된다
```



