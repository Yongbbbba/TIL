# boj 20040 사이클 게임

- 무방향 그래프의 사이클 여부를 찾을 때 유니온 파인드를 활용할 수 있다(방향성 그래프의 경우에는 dfs로 사이클을 확인할 수 있음)
- 모든 간선에 대해서 루트를 확인하고 만약 루트가 다르다면 union을 하고 만약 루트가 같다면 이미 사이클이 만들어진 것이다.



## 코드

```c++
#include <iostream>
#include <algorithm>
#include <vector>
#include <cctype>
#include <stack>
#include <queue>
#include <array>
#include <set>
#include <sstream>
#include <map>

typedef long long ll;

using namespace std;
const int INF = 987654321;

int n, m;
//int parent[1000001];
vector<int> parent;

int findParent(int x)
{
    if (parent[x] == x)
        return  x;
    return parent[x] = findParent(parent[x]);
}

void unionParent(int a, int b)
{
    a = findParent(a);
    b = findParent(b);

    if (a < b)
        parent[b] = a;
    else
        parent[a] = b;
}

int main()
{
    ios::sync_with_stdio(0);
    cin.tie(0);

    cin >> n >> m;
    parent.resize(n);

    for (int i = 0; i < n; i++)
        parent[i] = i;

    for (int i = 1; i <= m; i++)
    {
        int a, b;
        cin >> a >> b;

        int aParent = findParent(a);
        int bParent = findParent(b);
        if (aParent == bParent) // 사이클 완성
        {
            cout << i;
            return 0;
        }
        else
            unionParent(a, b);
    }
    
    // 여기까지 return이 안됐으면 사이클이 없는 것임
    cout << 0;
    return 0;
}
```

